---
title: redis学习笔记
date: 2018-05-16 13:40:08
categories: redis
tags: 
- redis
---

# SDS (Simple Dynamic String)

Redis中使用SDS作为字符串表示。

1. 常数复杂度获取字符串长度。
2. 杜绝缓冲区溢出。strcat执行之前需要分配足够的空间, SDS能够避免这种情况。
3. 减少修改字符串长度时所需的内存重分配次数。数组里面可以包含未使用的字节， 而这些字节的数量就由 SDS 的 `free` 属性记录。如果是C语言中的strcat的话存在和数组对应大小的关系，需要内存重分配。
4. 二进制安全。压缩的二进制可能会包含`\0` 这样的字符。
5. 兼容部分 C 字符串函数。`strcasecmp(sds->buf, "hello world");`

# 链表

无环的双端链表。

# 字典

* 链地址法解决冲突;
* 渐进式rehash。每个字典带有两个哈希表， 一个用于平时使用， 另一个仅在进行 rehash 时使用。这也是你存储3G的数据在Redis中,但是可能最终的数据是6G.

# 跳表

* 有序集合的底层实现.
* 也是双向的指针。向后的指针可以跳着遍历，向前的指针只能一个一个遍历。

# 整数集合

* 集合键的底层实现之一；

# 压缩列表（ziplist）

* 列表键和哈希键的底层实现之一。

# 资料

* [Redis设计与实现](http://origin.redisbook.com/)